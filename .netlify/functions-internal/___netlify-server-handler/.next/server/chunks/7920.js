"use strict";exports.id=7920,exports.ids=[7920],exports.modules={34178:(t,a,e)=>{var n=e(25289);e.o(n,"usePathname")&&e.d(a,{usePathname:function(){return n.usePathname}}),e.o(n,"useRouter")&&e.d(a,{useRouter:function(){return n.useRouter}})},79946:(t,a,e)=>{e.d(a,{YW:()=>tn,HD:()=>td,LN:()=>tm,G$:()=>tf,db:()=>th});var n=e(98053),s=e(58620),r=e(95989),i=e(28964),c=e(26828),o=e(67432),u=e(78703),l=e(19175),d=e(37959);let m=function(t){return t.AtomicBatch="atomicBatch",t.AuxiliaryFunds="auxiliaryFunds",t.PaymasterService="paymasterService",t}({});var f=e(8919),h=e(76967);let y="Something went wrong. Please try again.",p="TRANSACTION_TYPE_CALLS",w="TRANSACTION_TYPE_CONTRACTS";var C=e(66320),g=e(88111),v=e(9876),b=e(27971),x=e(63360),S=e(621),N=e(30407),T=e(53267),A=e(35979),R=e(43643),E=e(48031),D=e(18735),P=e(57474),j=e(68708);async function I(t,a){let{account:e=t.account,chain:n=t.chain,accessList:s,blobs:r,data:i,gas:c,gasPrice:o,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:m,to:f,value:h,...y}=a;if(!e)throw new x.o({docsPath:"/docs/actions/wallet/sendTransaction"});let p=(0,b.T)(e);try{let e;if((0,E.F)(a),null!==n&&(e=await (0,R.s)(t,D.L,"getChainId")({}),function({chain:t,currentChainId:a}){if(!t)throw new S.Bk;if(a!==t.id)throw new S.Yl({chain:t,currentChainId:a})}({currentChainId:e,chain:n})),"local"===p.type){let a=await (0,R.s)(t,P.Z,"prepareTransactionRequest")({account:p,accessList:s,blobs:r,chain:n,chainId:e,data:i,gas:c,gasPrice:o,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:m,parameters:[...P.Q,"sidecars"],to:f,value:h,...y}),w=n?.serializers?.transaction,C=await p.signTransaction(a,{serializer:w});return await (0,R.s)(t,j.p,"sendRawTransaction")({serializedTransaction:C})}let w=t.chain?.formatters?.transactionRequest?.format,C=(w||A.tG)({...(0,T.K)(y,{format:w}),accessList:s,blobs:r,chainId:e,data:i,from:p.address,gas:c,gasPrice:o,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:m,to:f,value:h});return await t.request({method:"eth_sendTransaction",params:[C]},{retryCount:0})}catch(t){throw(0,N.$)(t,{...a,account:p,chain:a.chain||void 0})}}var q=e(42790),L=e(32672),_=e(78224);async function $(t,a){let e;let{account:n,chainId:s,connector:r,gas:i,...c}=a;e="object"==typeof n&&"local"===n.type?t.getClient({chainId:s}):await (0,_.e)(t,{account:n,chainId:s,connector:r});let{connector:o}=(0,L.D)(t),u=await (async()=>{if(!(!("data"in a)||!a.data||(r??o)?.supportsSimulation)&&null!==i)return void 0===i?(0,q.s)(e,v.Q,"estimateGas")({...c,account:n,chain:s?{id:s}:null}):i})(),l=(0,q.s)(e,I,"sendTransaction");return await l({...c,...n?{account:n}:{},gas:u,chain:s?{id:s}:null})}var k=e(47518),F=e(27021);async function H(t,a){let{account:e,chainId:n,connector:s,calls:r,...i}=a,c=await (0,_.e)(t,{account:e,chainId:n,connector:s});return(0,F.s)(c,{...i,...e?{account:e}:{},calls:r,chain:n?{id:n}:void 0})}let O=async({capabilities:t,sendCallsAsync:a,transactions:e,transactionType:n,writeContractsAsync:s})=>{e&&(n===w&&await s({contracts:e,capabilities:t}),n===p&&await a({calls:e,capabilities:t}))},M=async({sendCallAsync:t,transactions:a,transactionType:e,writeContractAsync:n})=>{for(let s of a)e===p?await t(s):await n(s)},B=({capabilities:t,sendCallAsync:a,sendCallsAsync:e,transactions:n,transactionType:s,walletCapabilities:r,writeContractAsync:c,writeContractsAsync:o})=>(0,i.useCallback)(async()=>{n&&(r[m.AtomicBatch]?.supported?await O({capabilities:t,sendCallsAsync:e,transactions:n,transactionType:s,writeContractsAsync:o}):await M({sendCallAsync:a,transactions:n,transactionType:s,writeContractAsync:c}))},[o,c,e,a,t,n,s,r]);var U=e(24897);async function K(t,a){let{abi:e,address:n,args:s,dataSuffix:r,functionName:i,...c}=a,o=(0,U.R)({abi:e,args:s,functionName:i});return(0,R.s)(t,I,"sendTransaction")({data:`${o}${r?r.replace("0x",""):""}`,to:n,...c})}var Z=e(27564);async function G(t,a){let e;let{abi:n,chainId:s,connector:r,...i}=a;e=a.account?a.account:(await (0,_.e)(t,{chainId:s,connector:r})).account;let c=t.getClient({chainId:s}),o=(0,q.s)(c,Z.a,"simulateContract"),{result:u,request:l}=await o({...i,abi:n,account:e});return{chainId:c.chain.id,result:u,request:{__mode:"prepared",...l,chainId:s}}}async function Q(t,a){let e,n;let{account:s,chainId:r,connector:i,__mode:c,...o}=a;e="object"==typeof s&&"local"===s.type?t.getClient({chainId:r}):await (0,_.e)(t,{account:s,chainId:r,connector:i});let{connector:u}=(0,L.D)(t);if("prepared"===c||u?.supportsSimulation)n=o;else{let{request:a}=await G(t,{...o,account:s,chainId:r});n=a}let l=(0,q.s)(e,K,"writeContract");return await l({...n,...s?{account:s}:{},chain:r?{id:r}:null})}var Y=e(40157);let J=t=>t?.paymasterService?.url||null;var V=e(97247);function W(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,a){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,r,i,c=[],o=!0,u=!1;try{if(r=(e=e.call(t)).next,0===a){if(Object(e)!==e)return;o=!1}else for(;!(o=(n=r.call(e)).done)&&(c.push(n.value),c.length!==a);o=!0);}catch(t){u=!0,s=t}finally{try{if(!o&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}(t,a)||function(t,a){if(t){if("string"==typeof t)return z(t,a);var e=({}).toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(t,a):void 0}}(t,a)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}let X={},tt=(0,i.createContext)(X);function ta(){let t=(0,i.useContext)(tt);if(t===X)throw Error("useTransactionContext must be used within a Transaction component");return t}function te({calls:t,capabilities:a,chainId:e,children:n,contracts:s,onError:r,onStatus:v,onSuccess:b}){let x=(0,c.m)(),S=(0,o.Z)(),N=W((0,i.useState)(""),2),T=N[0],A=N[1],R=W((0,i.useState)(""),2),E=R[0],D=R[1],P=W((0,i.useState)(!1),2),j=P[0],I=P[1],q=W((0,i.useState)({statusName:"init",statusData:null}),2),L=q[0],_=q[1],F=W((0,i.useState)(""),2),O=F[0],M=F[1],U=W((0,i.useState)([]),2),K=U[0],Z=U[1],G=t||s,z=t?p:w,X=(0,f.n)({chainId:e}),ta=(0,u.o)().switchChainAsync;if(!s&&!t)throw Error("Transaction: One of contracts or calls must be provided as a prop to the Transaction component.");if(t&&s)throw Error("Transaction: Only one of contracts or calls can be provided as a prop to the Transaction component.");let te=function({setLifecycleStatus:t,setTransactionId:a}){let e=(0,Y.h)({mutation:{onError:a=>{if(a.message.includes("this request method is not supported"))return;let e=(0,k.E)(a)?"Request denied.":y;t({statusName:"error",statusData:{code:"TmUWCSh01",error:a.message,message:e}})},onSuccess:t=>{a(t)}}});return{status:e.status,writeContractsAsync:e.writeContractsAsync}}({setLifecycleStatus:_,setTransactionId:M}),tn=te.status,ts=te.writeContractsAsync,tr=function({setLifecycleStatus:t,transactionHashList:a}){let e=function(t={}){var a;let{mutation:e}=t,n=(a=(0,o.Z)(t),{mutationFn:t=>Q(a,t),mutationKey:["writeContract"]}),{mutate:s,mutateAsync:r,...i}=(0,g.D)({...e,...n});return{...i,writeContract:s,writeContractAsync:r}}({mutation:{onError:a=>{let e=(0,k.E)(a)?"Request denied.":y;t({statusName:"error",statusData:{code:"TmUWCh01",error:a.message,message:e}})},onSuccess:e=>{t({statusName:"transactionLegacyExecuted",statusData:{transactionHashList:[...a,e]}})}}});return{status:e.status,writeContractAsync:e.writeContractAsync,data:e.data}}({setLifecycleStatus:_,transactionHashList:K}),ti=tr.status,tc=tr.writeContractAsync,to=tr.data,tu=function({setLifecycleStatus:t,setTransactionId:a}){let e=function(t={}){var a;let{mutation:e}=t,n=(a=(0,o.Z)(t),{mutationFn:t=>H(a,t),mutationKey:["sendCalls"]}),{mutate:s,mutateAsync:r,...i}=(0,g.D)({...e,...n});return{...i,sendCalls:s,sendCallsAsync:r}}({mutation:{onError:a=>{let e=(0,k.E)(a)?"Request denied.":y;t({statusName:"error",statusData:{code:"TmUSCSh01",error:a.message,message:e}})},onSuccess:t=>{a(t)}}});return{status:e.status,sendCallsAsync:e.sendCallsAsync,data:e.data}}({setLifecycleStatus:_,setTransactionId:M}),tl=tu.status,td=tu.sendCallsAsync,tm=function({setLifecycleStatus:t,transactionHashList:a}){let e=function(t={}){var a;let{mutation:e}=t,n=(a=(0,o.Z)(t),{mutationFn:t=>$(a,t),mutationKey:["sendTransaction"]}),{mutate:s,mutateAsync:r,...i}=(0,g.D)({...e,...n});return{...i,sendTransaction:s,sendTransactionAsync:r}}({mutation:{onError:a=>{let e=(0,k.E)(a)?"Request denied.":y;t({statusName:"error",statusData:{code:"TmUSCh01",error:a.message,message:e}})},onSuccess:e=>{t({statusName:"transactionLegacyExecuted",statusData:{transactionHashList:[...a,e]}})}}});return{status:e.status,sendCallAsync:e.sendTransactionAsync,data:e.data}}({setLifecycleStatus:_,transactionHashList:K}),tf=tm.status,th=tm.sendCallAsync,ty=tm.data,tp=(0,i.useMemo)(()=>(X[m.AtomicBatch]?.supported?{[p]:tl,[w]:tn}:{[p]:tf,[w]:ti})[z],[tl,tn,tf,ti,z,X[m.AtomicBatch]]),tw=to||ty,tC=B({capabilities:a,sendCallAsync:th,sendCallsAsync:td,transactions:G,transactionType:z,walletCapabilities:X,writeContractAsync:tc,writeContractsAsync:ts}),tg=function({setLifecycleStatus:t,transactionId:a}){try{let t=(0,C.Q)({id:a,query:{refetchInterval:t=>t.state.data?.status!=="CONFIRMED"&&1e3,enabled:!!a}}).data,e=t?.receipts?.[0]?.transactionHash;return{status:t?.status,transactionHash:e}}catch(a){return t({statusName:"error",statusData:{code:"TmUCSh01",error:JSON.stringify(a),message:""}}),{status:"error",transactionHash:void 0}}}({setLifecycleStatus:_,transactionId:O}),tv=tg.transactionHash,tb=tg.status,tx=(0,l.A)({hash:tw||tv}).data;(0,i.useEffect)(()=>{A(""),"error"===L.statusName&&(A(L.statusData.message),D(L.statusData.code),r?.(L.statusData)),"transactionLegacyExecuted"===L.statusName&&Z(L.statusData.transactionHashList),"success"===L.statusName&&b?.({transactionReceipts:L.statusData.transactionReceipts}),v?.(L)},[r,v,b,L,L.statusData,L.statusName]),(0,i.useEffect)(()=>{"pending"===tp&&_({statusName:"transactionPending",statusData:null})},[tp]),(0,i.useEffect)(()=>{tx&&_({statusName:"success",statusData:{transactionReceipts:[tx]}})},[tx]),(0,i.useEffect)(()=>{G&&K.length===G.length&&!(G.length<2)&&tS()},[G,K]);let tS=(0,i.useCallback)(async()=>{let t=[];for(let a of K)try{let n=await (0,d.e)(S,{hash:a,chainId:e});t.push(n)}catch(t){_({statusName:"error",statusData:{code:"TmTPc01",error:JSON.stringify(t),message:y}})}_({statusName:"success",statusData:{transactionReceipts:t}})},[e,S,K]),tN=(0,i.useCallback)(async t=>{t&&x.chainId!==t&&await ta({chainId:t})},[x.chainId,ta]),tT=(0,i.useCallback)(async()=>{A(""),I(!0);try{await tN(e),await tC()}catch(a){let t=(0,k.E)(a)?"Request denied.":y;_({statusName:"error",statusData:{code:"TmTPc03",error:JSON.stringify(a),message:t}})}},[e,tC,tN]),tA=(0,h.H)({chainId:e,errorCode:E,errorMessage:T,isLoading:"PENDING"===tb,isToastVisible:j,lifecycleStatus:L,onSubmit:tT,paymasterUrl:J(a),receipt:tx,setIsToastVisible:I,setLifecycleStatus:_,setTransactionId:M,transactions:G,transactionId:O,transactionHash:tw||tv});return(0,V.jsx)(tt.Provider,{value:tA,children:n})}function tn({calls:t,capabilities:a,chainId:e,className:i,children:c,contracts:o,onError:u,onStatus:l,onSuccess:d}){if(!(0,s.t)())return null;let m=(0,r.M)().chain,f=e||m.id;return(0,V.jsx)(te,{calls:t,capabilities:a,chainId:f,contracts:o,onError:u,onStatus:l,onSuccess:d,children:(0,V.jsx)("div",{className:(0,n.cn)(i,"flex w-full flex-col gap-2"),children:c})})}var ts=e(53041);async function tr(t,a){let{id:e}=a;await t.request({method:"wallet_showCallsStatus",params:[e]})}async function ti(t,a){let{connector:e,id:n}=a;return tr(await (0,_.e)(t,{connector:e}),{id:n})}function tc(t={}){var a;let{mutation:e}=t,n=(a=(0,o.Z)(t),{mutationFn:t=>ti(a,t),mutationKey:["showCallsStatus"]}),{mutate:s,mutateAsync:r,...i}=(0,g.D)({...e,...n});return{...i,showCallsStatus:s,showCallsStatusAsync:r}}var to=e(71917),tu=e(64653);function tl(t){return t===tu.L.id?"https://sepolia.basescan.org":"https://basescan.org"}function td({className:t,disabled:a=!1,text:e="Transact"}){let s=ta(),r=s.chainId,o=s.errorMessage,u=s.isLoading,l=s.lifecycleStatus,d=s.onSubmit,m=s.receipt,f=s.transactions,h=s.transactionHash,y=s.transactionId,p=(0,c.m)().address,w=r??(0,ts.x)(),C=tc().showCallsStatus,g="transactionPending"===l.statusName||u,v=!!y||!!h,b=!m&&(g||!f||!p||v||a),x=function({errorMessage:t,hasReceipt:a,isLoading:e,lifecycleStatus:n,transactionHash:s,transactionId:r}){let i="transactionPending"===n.statusName;return!a&&!t&&(!!e||!!i||!!r||!!s)}({errorMessage:o,hasReceipt:!!m,isLoading:u,lifecycleStatus:l,transactionHash:h,transactionId:y}),S=(0,i.useMemo)(()=>m?"View transaction":o?"Try again":e,[e,o,m]),N=(0,i.useCallback)(()=>{if(m&&y)C({id:y});else if(m){let t=tl(w);window.open(`${t}/tx/${h}`,"_blank","noopener,noreferrer")}else d()},[w,d,m,C,h,y]);return(0,V.jsx)("button",{className:(0,n.cn)(n.RB.primary,"w-full rounded-xl","px-4 py-3 font-medium text-base text-white leading-6",b&&n.RB.disabled,n.fL.headline,t),onClick:N,type:"button",disabled:b,"data-testid":"ockTransactionButton_Button",children:x?(0,V.jsx)(to.$,{}):(0,V.jsx)("span",{className:(0,n.cn)(n.fL.headline,n.$_.inverse,"flex justify-center"),children:S})})}function tm({children:t,className:a}){return(0,V.jsx)("div",{className:(0,n.cn)("flex justify-between",a),children:t})}function tf({className:t}){let a=function(){let t=ta(),a=t.chainId,e=t.receipt,s=t.transactionHash,r=t.transactionId,c=a??(0,ts.x)(),o=tc().showCallsStatus;return(0,i.useMemo)(()=>{let t=tl(c),a=null;return s&&(a=(0,V.jsx)("a",{href:`${t}/tx/${s}`,target:"_blank",rel:"noreferrer",children:(0,V.jsx)("span",{className:(0,n.cn)(n.fL.label1,n.$_.primary),children:"View transaction"})})),r&&(a=(0,V.jsx)("button",{onClick:()=>o({id:r}),type:"button",children:(0,V.jsx)("span",{className:(0,n.cn)(n.fL.label1,n.$_.primary),children:"View transaction"})})),e&&(a=null),{actionElement:a}},[c,e,o,s,r])}().actionElement;return(0,V.jsx)("div",{className:(0,n.cn)(n.fL.label2,"min-w-[70px]",t),children:a})}function th({className:t}){let a=function(){let t=ta(),a=t.errorMessage,e=t.isLoading,s=t.receipt,r=t.lifecycleStatus,c=t.transactionHash,o=t.transactionId,u=e||!!o||!!c,l="transactionPending"===r.statusName;return(0,i.useMemo)(()=>{let t="",e=n.$_.foregroundMuted;return l&&(t="Confirm in wallet."),u&&(t="Transaction in progress..."),s&&(t="Successful"),a&&(t=a,e=n.$_.error),{label:t,labelClassName:e}},[a,u,l,s])}(),e=a.label,s=a.labelClassName;return(0,V.jsx)("div",{className:(0,n.cn)(n.fL.label2,t),children:(0,V.jsx)("p",{className:s,children:e})})}n.hl.defaultReverse},47518:(t,a,e)=>{e.d(a,{E:()=>n});function n(t){return!!(t?.cause?.name==="UserRejectedRequestError"||t?.shortMessage?.includes("User rejected the request."))}},37959:(t,a,e)=>{e.d(a,{e:()=>o});var n=e(21836),s=e(69584),r=e(87589),i=e(40093),c=e(42790);async function o(t,a){let{chainId:e,timeout:o=0,...u}=a,l=t.getClient({chainId:e}),d=(0,c.s)(l,s.e,"waitForTransactionReceipt"),m=await d({...u,timeout:o});if("reverted"===m.status){let t=(0,c.s)(l,r.f,"getTransaction"),a=await t({hash:m.transactionHash}),e=(0,c.s)(l,i.R,"call"),s=await e({...a,gasPrice:"eip1559"!==a.type?a.gasPrice:void 0,maxFeePerGas:"eip1559"===a.type?a.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===a.type?a.maxPriorityFeePerGas:void 0});throw Error(s?.data?(0,n.rR)(`0x${s.data.substring(138)}`):"unknown reason")}return{...m,chainId:l.chain.id}}},27021:(t,a,e)=>{e.d(a,{s:()=>o});var n=e(27971),s=e(63360),r=e(621),i=e(50143),c=e(30407);async function o(t,a){let{account:e=t.account,calls:o,capabilities:u,chain:l=t.chain,version:d="1.0"}=a;if(!e)throw new s.o({docsPath:"/experimental/eip5792/sendCalls"});let m=(0,n.T)(e);if(!l)throw new r.Bk;try{return await t.request({method:"wallet_sendCalls",params:[{calls:o.map(t=>({...t,value:t.value?(0,i.eC)(t.value):void 0})),capabilities:u,chainId:(0,i.eC)(l.id),from:m.address,version:d}]},{retryCount:0})}catch(t){throw(0,c.$)(t,{...a,account:m,chain:a.chain})}}},30407:(t,a,e)=>{e.d(a,{$:()=>i});var n=e(73359),s=e(64666),r=e(43369);function i(t,{docsPath:a,...e}){let i=(()=>{let a=(0,r.k)(t,e);return a instanceof n.cj?t:a})();return new s.mk(i,{docsPath:a,...e})}},66320:(t,a,e)=>{e.d(a,{Q:()=>m});var n=e(43295),s=e(12995),r=e(21836),i=e(40970);async function c(t,a){let{id:e}=a,{receipts:n,status:s}=await t.request({method:"wallet_getCallsStatus",params:[e]});return{status:s,receipts:n?.map(t=>({...t,blockNumber:r.y_(t.blockNumber),gasUsed:r.y_(t.gasUsed),status:i.ew[t.status]}))??[]}}var o=e(78224);async function u(t,a){let{connector:e,id:n}=a;return c(await (0,o.e)(t,{connector:e}),{id:n})}var l=e(67432),d=e(7422);function m(t){var a;let{query:e={}}=t,r=(a=(0,l.Z)(t),{async queryFn({queryKey:t}){let{scopeKey:e,...n}=t[1];return await u(a,n)},queryKey:["callsStatus",(0,s.OP)(t)],retry:(t,a)=>!(a instanceof n.aH)&&t<3});return(0,d.aM)({...e,...r})}},40157:(t,a,e)=>{e.d(a,{h:()=>d});var n=e(88111),s=e(24897),r=e(43643),i=e(27021);async function c(t,a){let e=a.contracts.map(t=>{let{address:a,abi:e,functionName:n,args:r,value:i}=t;return{data:(0,s.R)({abi:e,functionName:n,args:r}),to:a,value:i}});return(0,r.s)(t,i.s,"sendCalls")({...a,calls:e})}var o=e(78224);async function u(t,a){let{account:e,chainId:n,connector:s,...r}=a;return c(await (0,o.e)(t,{account:e,chainId:n,connector:s}),{...r,...e?{account:e}:{},chain:n?{id:n}:void 0})}var l=e(67432);function d(t={}){var a;let{mutation:e}=t,s=(a=(0,l.Z)(t),{mutationFn:t=>u(a,t),mutationKey:["writeContracts"]}),{mutate:r,mutateAsync:i,...c}=(0,n.D)({...e,...s});return{...c,writeContracts:r,writeContractsAsync:i}}},19175:(t,a,e)=>{e.d(a,{A:()=>o});var n=e(37959),s=e(12995),r=e(7422),i=e(53041),c=e(67432);function o(t={}){let{hash:a,query:e={}}=t,o=(0,c.Z)(t),u=(0,i.x)({config:o}),l=function(t,a={}){return{async queryFn({queryKey:e}){let{hash:s,...r}=e[1];if(!s)throw Error("hash is required");return(0,n.e)(t,{...r,onReplaced:a.onReplaced,hash:s})},queryKey:function(t={}){let{onReplaced:a,...e}=t;return["waitForTransactionReceipt",(0,s.OP)(e)]}(a)}}(o,{...t,chainId:t.chainId??u}),d=!!(a&&(e.enabled??!0));return(0,r.aM)({...e,...l,enabled:d})}}};
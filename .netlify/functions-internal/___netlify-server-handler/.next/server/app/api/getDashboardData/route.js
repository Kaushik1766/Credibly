"use strict";(()=>{var e={};e.id=1369,e.ids=[1369],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},61282:e=>{e.exports=require("child_process")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},32694:e=>{e.exports=require("http2")},35240:e=>{e.exports=require("https")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},35816:e=>{e.exports=require("process")},68621:e=>{e.exports=require("punycode")},86624:e=>{e.exports=require("querystring")},76162:e=>{e.exports=require("stream")},82452:e=>{e.exports=require("tls")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},87712:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>h,routeModule:()=>x,serverHooks:()=>q,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>l});var s=r(73278),i=r(45002),o=r(54877),n=r(97453),p=r(30501),u=r(2651),d=r(71309);async function l(e){let t=e.headers.get("Authorization")?.split(" ")[1];if(!t)return d.NextResponse.json({error:"No access token provided"},{status:401});try{let e=await c(t),r=await (0,p.b)(e?.youtubeId),a=await Promise.all(r.map(async e=>await (0,n.g)(e.cid)));return d.NextResponse.json({courseData:a,channelDetails:e})}catch(e){return d.NextResponse.json({error:e.message},{status:500})}}async function c(e){let t=u.lkr.youtube({version:"v3",auth:"AIzaSyCkJ0oeiwSZTynLE-TDH1tpwvD45ELs7BU"});try{let r;let a=await t.channels.list({mine:!0,part:["contentDetails","snippet","brandingSettings"],access_token:e});return a.data.items&&a.data.items.length>=0&&(r={youtubeId:a.data.items[0].snippet?.customUrl,profile:a.data.items[0].snippet?.thumbnails?.high?.url,banner:a.data.items[0].brandingSettings?.image?.bannerExternalUrl,uploads:a.data.items[0].contentDetails?.relatedPlaylists?.uploads,name:a.data.items[0].snippet?.title,description:a.data.items[0].snippet?.description}),r}catch(e){throw Error(e.msg)}}let x=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/getDashboardData/route",pathname:"/api/getDashboardData",filename:"route",bundlePath:"app/api/getDashboardData/route"},resolvedPagePath:"/Users/jayanthkoppala/Desktop/Developer/Credibly/app/api/getDashboardData/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:q}=x,g="/api/getDashboardData/route";function y(){return(0,o.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:m})}},97453:(e,t,r)=>{r.d(t,{g:()=>a});async function a(e){let t=await fetch(`https://gateway.pinata.cloud/ipfs/${e}`);return await t.json()}},30501:(e,t,r)=>{r.d(t,{b:()=>s});var a=r(53524);async function s(e){let t=new a.PrismaClient;return await t.videos.findMany({where:{creatorId:e}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9379,4833,2651],()=>r(87712));module.exports=a})();
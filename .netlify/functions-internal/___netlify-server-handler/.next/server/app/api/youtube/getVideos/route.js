"use strict";(()=>{var e={};e.id=934,e.ids=[934],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},61282:e=>{e.exports=require("child_process")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},32694:e=>{e.exports=require("http2")},35240:e=>{e.exports=require("https")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},35816:e=>{e.exports=require("process")},68621:e=>{e.exports=require("punycode")},86624:e=>{e.exports=require("querystring")},76162:e=>{e.exports=require("stream")},82452:e=>{e.exports=require("tls")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},87803:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>q,requestAsyncStorage:()=>h,routeModule:()=>y,serverHooks:()=>m,staticGenerationAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(73278),i=r(45002),a=r(54877),n=r(2651),u=r(71309);async function p(e){let t=e.headers.get("Authorization")?.split(" ")[1];if(!t)return u.NextResponse.json({error:"No access token provided"},{status:401});try{let e=await c(t),r=await l(e.uploads),s=await d(t);return u.NextResponse.json({videos:r,playlists:s,channelDetails:e})}catch(e){return u.NextResponse.json({error:e.message},{status:500})}}async function l(e){let t=await fetch(`https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${e}&maxResults=50&key=AIzaSyCkJ0oeiwSZTynLE-TDH1tpwvD45ELs7BU`),r=await t.json();if(r.error)throw Error("Either you have no public videos or your channel is not accessible.");return r.items}async function d(e){let t=await fetch("https://www.googleapis.com/youtube/v3/playlists?part=snippet&mine=true&key=AIzaSyCkJ0oeiwSZTynLE-TDH1tpwvD45ELs7BU",{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();if(r.error)throw Error(r.error.message);return r.items}async function c(e){let t=n.lkr.youtube({version:"v3",auth:"AIzaSyCkJ0oeiwSZTynLE-TDH1tpwvD45ELs7BU"});try{let r;let s=await t.channels.list({mine:!0,part:["contentDetails","snippet","brandingSettings"],access_token:e});return s.data.items&&s.data.items.length>=0&&(r={youtubeId:s.data.items[0].snippet?.customUrl,profile:s.data.items[0].snippet?.thumbnails?.high?.url,banner:s.data.items[0].brandingSettings?.image?.bannerExternalUrl,uploads:s.data.items[0].contentDetails?.relatedPlaylists?.uploads,name:s.data.items[0].snippet?.title}),r}catch(e){throw Error(e.msg)}}let y=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/youtube/getVideos/route",pathname:"/api/youtube/getVideos",filename:"route",bundlePath:"app/api/youtube/getVideos/route"},resolvedPagePath:"/Users/jayanthkoppala/Desktop/Developer/Credibly/app/api/youtube/getVideos/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:x,serverHooks:m}=y,g="/api/youtube/getVideos/route";function q(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:x})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9379,4833,2651],()=>r(87803));module.exports=s})();
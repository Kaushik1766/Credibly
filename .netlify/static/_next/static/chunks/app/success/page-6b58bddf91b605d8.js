(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2060],{33248:function(e,t,a){Promise.resolve().then(a.bind(a,20786))},20786:function(e,t,a){"use strict";a.d(t,{default:function(){return p}});var s=a(57437),n=a(2265),o=a(64707),r=a(15266);let i=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"}];var l=a(70304);function c(e){let{address:t,metadataUri:a}=e,n=(0,l.useRouter)();return console.log(t),console.log(a),(0,s.jsx)("div",{className:"flex w-[450px]",children:(0,s.jsxs)(r.YW,{contracts:[{address:"0xD2D5B17f9a0c65115A849EE0ceD25F225bf53Aca",abi:i,functionName:"safeMint",args:[t,a]}],className:"w-[450px]",chainId:84532,onError:e=>{console.error("Transaction error:",e),console.log("Full error:",JSON.stringify(e,null,2))},onSuccess:e=>{console.log("Transaction successful",e),alert("NFT minted successfully!"),setTimeout(()=>{n.push("/nfts")},5e3)},children:[(0,s.jsx)(r.HD,{className:"mt-0 mr-auto ml-auto w-[450px] max-w-full text-[white] !text-xl"}),(0,s.jsxs)(r.LN,{className:"text-white",children:[(0,s.jsx)(r.db,{className:"text-white"}),(0,s.jsx)(r.G$,{className:"text-white"})]})]})})}var d=a(28965);let u={"Content-Type":"application/json",pinata_api_key:"73c879f180b698a69faa",pinata_secret_api_key:"0a8396a79ee46480d58adb68a8e6aa202fa8ed27e9795a9a5527e0e26d8b8ed0"};var p=e=>{let{score:t,trueAnswer:a,badge:r,title:i,author:l}=e,[p,h]=(0,n.useState)(!1),[x,f]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),{address:b}=(0,o.m)(),j=async()=>{let e={name:i,description:"This certificate is awarded for achieving a score of ".concat(t," by watching the course of ").concat(l),image:"https://ipfs.io/ipfs/QmXnW8kkd9QiJYx6ZCq3Bc6sCJF3M1nQ8fYjpLuSgSr9zm",attributes:[{trait_type:"Score",value:t},{trait_type:"Correct Answers",value:a},{trait_type:"Badge",value:r}]};console.log("Uploading metadata to IPFS...");try{let t=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:u,body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to upload data to Pinata");let a=await t.json();console.log("Upload successful:",a);let s="ipfs://".concat(a.IpfsHash);return console.log("Metadata URI:",s),s}catch(e){return console.error("Error uploading metadata to IPFS:",e),null}},w=async()=>{h(!0);try{let e=await j();e&&(f(e),console.log("Minting NFT with URI:",e),g(!0))}catch(e){console.error("Minting failed:",e)}finally{h(!1)}};return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{children:b?!m&&(0,s.jsx)("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-xl text-white font-semibold rounded-2xl py-3 shadow-lg transition duration-300 ease-in-out hover:bg-gradient-to-r hover:from-purple-600 hover:to-blue-600 hover:scale-105 w-96 active:scale-95 disabled:opacity-50",onClick:w,disabled:p,children:p?"Minting in progress...":"Mint & Upload"}):(0,s.jsx)(d.Z,{className:"w-[450px] max-w-full",text:"Sign in to transact"})}),x&&b&&(0,s.jsx)(c,{address:b,metadataUri:x})]})}},28965:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(57437),n=a(93697),o=a(4939);function r(e){let{className:t,text:a,withWalletAggregator:r=!1}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.w5,{children:[(0,s.jsxs)(o.RZ,{withWalletAggregator:r,text:a,className:t,children:[(0,s.jsx)(n.qE,{className:"h-6 w-6 bg-white"}),(0,s.jsx)(n.VG,{className:"text-white"})]}),(0,s.jsxs)(o.Zl,{className:"absolute z-50 border-4 border-pink-500",children:[(0,s.jsxs)(n.iJ,{className:"px-4 z-50 pt-3 pb-2",hasCopyAddressOnClick:!0,children:[(0,s.jsx)(n.qE,{}),(0,s.jsx)(n.VG,{}),(0,s.jsx)(n.kL,{}),(0,s.jsx)(n.je,{})]}),(0,s.jsx)(o.ou,{}),(0,s.jsx)(o.zN,{className:"z-50",icon:"wallet",href:"https://wallet.coinbase.com",children:"Go to Wallet Dashboard"}),(0,s.jsx)(o.b3,{}),(0,s.jsx)(o.Oq,{})]})]})})}}},function(e){e.O(0,[9472,9712,7922,4707,4187,5671,2971,2117,1744],function(){return e(e.s=33248)}),_N_E=e.O()}]);
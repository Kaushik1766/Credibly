"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9463],{41671:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},27648:function(e,t,n){n.d(t,{default:function(){return a.a}});var r=n(72972),a=n.n(r)},41326:function(e,t,n){n.d(t,{$S:function(){return Z},lz:function(){return et},P1:function(){return en}});var r,a,i,o=n(81270),s=n(54466),c=n(2265),u=n(90713),l=n(64707),d=n(60542),f=n(59233),h=n(2398),m=n(81938),p=n(57217),y=n(41607),g=n(50379),b=n(64859),w=n(97489);let v="Something went wrong. Please try again.",C="Contracts are not available",E="No connected address",R=e=>`You need at least ${e} USDC to continue with payment`,N=((r={}).INSUFFICIENT_BALANCE="insufficient_balance",r.GENERIC_ERROR="generic_error",r.UNEXPECTED_ERROR="unexpected_error",r.USER_REJECTED_ERROR="user_rejected",r),P=((a={}).INIT="init",a.PENDING="paymentPending",a.SUCCESS="success",a.ERROR="error",a),A=((i={}).APPROVE="approve",i.BALANCE_OF="balanceOf",i.TRANSFER_TOKEN_PRE_APPROVED="transferTokenPreApproved",i),S=[{type:"function",name:"transferTokenPreApproved",inputs:[{name:"_intent",type:"tuple",components:[{name:"recipientAmount",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"},{name:"recipientCurrency",type:"address"},{name:"refundDestination",type:"address"},{name:"feeAmount",type:"uint256"},{name:"id",type:"bytes16"},{name:"operator",type:"address"},{name:"signature",type:"bytes"},{name:"prefix",type:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}];var I=n(39502),O=n(12364),_=n(98158),D=n(37691);let x=async({address:e,config:t})=>{let n=await (0,D.L)(t,{abi:_.Wo,address:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",functionName:A.BALANCE_OF,args:[e]});return(0,I.b)(n,6)},j={"Content-Type":"application/json","OnchainKit-Version":n(63242).i};var U=n(12238);let T=()=>{if(!U.o1.rpcUrl&&!U.o1.apiKey)throw Error("API Key Unset: You can use the Coinbase Developer Platform RPC by providing an API key in `OnchainKitProvider` or by manually calling `setOnchainKitConfig`: https://portal.cdp.coinbase.com/products/onchainkit");return U.o1.rpcUrl||`https://api.developer.coinbase.com/rpc/v1/${U.o1.chain.name.replace(" ","-").toLowerCase()}/${U.o1.apiKey}`};async function k(e,t){try{let n=T(),r=await fetch(n,{body:JSON.stringify({id:1,jsonrpc:"2.0",method:e,params:t}),headers:j,method:"POST"});return await r.json()}catch(e){throw console.log(`sendRequest: error sending request: ${e.message}`),e}}function L(e){return e?-32001===e?"PAY_TOO_MANY_REQUESTS_ERROR":-32601===e?"PAY_INVALID_CHARGE_ERROR":-32602===e?"PAY_INVALID_PARAMETER_ERROR":"PAY_ERROR":"UNCAUGHT_PAY_ERROR"}async function B({address:e,chargeId:t,productId:n}){try{let r;if(t)r=await k("cdp_hydrateCharge",[{sender:e,chargeId:t}]);else{if(!n)return{code:"AmBPTa01",error:"No chargeId or productId provided",message:L()};r=await k("cdp_createProductCharge",[{sender:e,productId:n}])}if(r.error)return{code:"AmBPTa02",error:r.error.message,message:L(r.error?.code)};return r.result}catch(e){return{code:"AmBPTa03",error:"Something went wrong",message:L()}}}n(91179);let $=async({address:e,chargeHandler:t,productId:n})=>{let r={address:e};t?r.chargeId=await t():n&&(r.productId=n);let a=await B(r);if("error"in a)throw Error(a.error);return a},W=({chargeHandler:e,productId:t})=>{let n=(0,O.Z)();return(0,c.useCallback)(async r=>{try{let a=await $({address:r,chargeHandler:e,productId:t}),i=a.id,o=function({transaction:e}){let t=e.callData,n=e.metaData;return[{address:t.recipientCurrency,abi:_.Wo,functionName:A.APPROVE,args:[n.contractAddress,BigInt(t.recipientAmount)+BigInt(t.feeAmount)]},{address:n.contractAddress,abi:S,functionName:A.TRANSFER_TOKEN_PRE_APPROVED,args:[{id:t.id,recipientAmount:BigInt(t.recipientAmount),deadline:BigInt(Math.floor(new Date(t.deadline).getTime()/1e3)),recipient:t.recipient,recipientCurrency:t.recipientCurrency,refundDestination:t.refundDestination,feeAmount:BigInt(t.feeAmount),operator:t.operator,signature:t.signature,prefix:t.prefix}]}]}({transaction:a}),s=await x({address:r,config:n}),c=(0,I.b)(BigInt(a.callData.feeAmount)+BigInt(a.callData.recipientAmount),6),u=Number.parseFloat(s)<Number.parseFloat(c);return{chargeId:i,contracts:o,insufficientBalance:u,priceInUSDC:c}}catch(e){return console.error("Unexpected error fetching contracts:",e),{chargeId:"",contracts:null,insufficientBalance:!1,error:e}}},[n,e,t])},K=["error","code","message"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){var r,a;r=t,a=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var V=n(57437);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}let X={},H=(0,c.createContext)(X);function z(){let e=(0,c.useContext)(H);if(e===X)throw Error("usePayContext must be used within a Pay component");return e}function J({chargeHandler:e,children:t,onStatus:n,productId:r}){let a=(0,l.m)(),i=a.address,o=a.chainId,s=a.isConnected,A=(0,d.$)().connectAsync,S=(0,f.o)().switchChainAsync,I=Y((0,c.useState)(""),2),O=I[0],_=I[1],D=Y((0,c.useState)(""),2),x=D[0],j=D[1],U=Y((0,c.useState)(""),2),T=U[0],k=U[1],L=(0,w.j)(),B=function(e){var t;let n=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)(e))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return M(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],a=n[1];return{lifecycleStatus:r,updateLifecycleStatus:(0,c.useCallback)(e=>{a(t=>{var n;let r=t.statusName===P.ERROR?((n=t.statusData).error,n.code,n.message,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,K)):t.statusData;return{statusName:e.statusName,statusData:F(F({},r),e.statusData)}})},[])}}({statusName:P.INIT,statusData:{}}),$=B.lifecycleStatus,q=B.updateLifecycleStatus,G=W({chargeHandler:e,productId:r}),X=(0,p.h)({mutation:{onSuccess:e=>{j(e)}}}),z=X.status,J=X.writeContractsAsync,Z=(0,y.Q)({id:x,query:{refetchInterval:e=>e.state.data?.status!=="CONFIRMED"&&1e3,enabled:!!x}}).data,Q=Z?.receipts?.[0]?.transactionHash,ee=(0,h.A)({hash:Q}).data;(0,c.useEffect)(()=>{n?.($)},[$,$.statusData,$.statusName,n]),(0,c.useEffect)(()=>{"pending"===z&&q({statusName:P.PENDING,statusData:{}})},[z,q]),(0,c.useEffect)(()=>{ee&&q({statusName:P.SUCCESS,statusData:{transactionReceipts:[ee],chargeId:O,receiptUrl:`https://commerce.coinbase.com/pay/${O}/receipt`}})},[O,ee,q]);let et=(0,c.useCallback)(async()=>{try{if($.statusName===P.SUCCESS){window.open(`https://commerce.coinbase.com/pay/${O}/receipt`,"_blank","noopener,noreferrer");return}if($.statusName===P.ERROR&&$.statusData?.code===N.INSUFFICIENT_BALANCE){window.open("https://keys.coinbase.com/fund","_blank","noopener,noreferrer"),k(""),q({statusName:P.INIT,statusData:{}});return}let e=i,t=o;if(!s||!L){let n=await A({connector:(0,m.D)({preference:"smartWalletOnly"})}),r=n.accounts,a=n.chainId;e=r[0],t=a}if(!e){k(v),q({statusName:P.ERROR,statusData:{code:N.UNEXPECTED_ERROR,error:E,message:E}});return}let n=await G(e),r=n.contracts,a=n.chargeId,c=n.insufficientBalance,l=n.priceInUSDC,d=n.error;if(d){k(v),q({statusName:P.ERROR,statusData:{code:N.UNEXPECTED_ERROR,error:d.name,message:d.message}});return}if(_(a),t!==u.u.id&&await S({chainId:u.u.id}),c&&l){k(R(l)),q({statusName:P.ERROR,statusData:{code:N.INSUFFICIENT_BALANCE,error:"User has insufficient balance",message:R(l)}});return}if(!r||0===r.length){k(v),q({statusName:P.ERROR,statusData:{code:N.UNEXPECTED_ERROR,error:C,message:C}});return}await J({contracts:r})}catch(r){let e=r.message?.includes("User denied connection request")||(0,b.E)(r),t=e?N.USER_REJECTED_ERROR:N.UNEXPECTED_ERROR,n=e?"Request denied.":v;k(n),q({statusName:P.ERROR,statusData:{code:t,error:JSON.stringify(r),message:n}})}},[i,o,O,A,G,s,L,$.statusData,$.statusName,S,q,J]),en=(0,g.H)({errorMessage:T,lifecycleStatus:$,onSubmit:et,updateLifecycleStatus:q});return(0,V.jsx)(H.Provider,{value:en,children:t})}function Z({chargeHandler:e,children:t,className:n,onStatus:r,productId:a}){return(0,s.t)()?(0,V.jsx)(J,{chargeHandler:e,onStatus:r,productId:a,children:(0,V.jsx)("div",{className:(0,o.cn)("flex w-full flex-col gap-2",n),children:t})}):null}var Q=n(65216),ee=n(92898);function et({className:e,coinbaseBranded:t,disabled:n,icon:r,text:a="Pay"}){t&&(r="coinbasePay",a="Pay with Crypto");let i=z(),s=i.lifecycleStatus,u=i.onSubmit,l=(0,ee.b)({icon:r}),d=s?.statusName===P.PENDING,f=n||d,h=(0,c.useMemo)(()=>s?.statusName===P.SUCCESS?"View payment details":s?.statusName===P.ERROR&&s?.statusData.error==="User has insufficient balance"?"Get USDC":a,[s?.statusName,s?.statusData,a]),m=h===a&&l;return(0,V.jsx)("button",{className:(0,o.cn)(t?o.RB.coinbaseBranding:o.RB.primary,"w-full rounded-xl","mt-4 px-4 py-3 font-medium text-base text-white leading-6",f&&o.RB.disabled,o.fL.headline,e),onClick:u,type:"button",disabled:f,children:(0,V.jsx)("div",{className:"flex items-center justify-center whitespace-nowrap",children:d?(0,V.jsx)(Q.$,{className:"h-5 w-5"}):(0,V.jsxs)(V.Fragment,{children:[m&&(0,V.jsx)("div",{className:"mr-2 flex h-5 w-5 shrink-0 items-center justify-center",children:l}),(0,V.jsx)("span",{className:(0,o.cn)(o.fL.headline,t?"text-white":o.$_.inverse),children:h})]})})})}function en({className:e}){let t=function(){let e=z(),t=e.errorMessage,n=e.lifecycleStatus,r=n?.statusName===P.PENDING,a=n?.statusName===P.SUCCESS;return(0,c.useMemo)(()=>{let e="",n=o.$_.foregroundMuted;return r&&(e="Payment in progress..."),a&&(e="Payment successful!",n=o.$_.success),t&&(e=t,n=o.$_.error),{label:e,labelClassName:n}},[t,r,a])}(),n=t.label,r=t.labelClassName;return(0,V.jsx)("div",{className:(0,o.cn)("flex justify-between",e),children:(0,V.jsx)("div",{className:o.fL.label2,children:(0,V.jsx)("p",{className:r,children:n})})})}},70650:function(e,t,n){n.d(t,{Ee:function(){return v},NY:function(){return C},fC:function(){return w}});var r=n(2265),a=n(73966),i=n(26606),o=n(61188),s=n(66840),c=n(57437),u="Avatar",[l,d]=(0,a.b)(u),[f,h]=l(u),m=r.forwardRef((e,t)=>{let{__scopeAvatar:n,...a}=e,[i,o]=r.useState("idle");return(0,c.jsx)(f,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:(0,c.jsx)(s.WV.span,{...a,ref:t})})});m.displayName=u;var p="AvatarImage",y=r.forwardRef((e,t)=>{let{__scopeAvatar:n,src:a,onLoadingStatusChange:u=()=>{},...l}=e,d=h(p,n),f=function(e,t){let[n,a]=r.useState("idle");return(0,o.b)(()=>{if(!e){a("error");return}let n=!0,r=new window.Image,i=e=>()=>{n&&a(e)};return a("loading"),r.onload=i("loaded"),r.onerror=i("error"),r.src=e,t&&(r.referrerPolicy=t),()=>{n=!1}},[e,t]),n}(a,l.referrerPolicy),m=(0,i.W)(e=>{u(e),d.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?(0,c.jsx)(s.WV.img,{...l,ref:t,src:a}):null});y.displayName=p;var g="AvatarFallback",b=r.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:a,...i}=e,o=h(g,n),[u,l]=r.useState(void 0===a);return r.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(e)}},[a]),u&&"loaded"!==o.imageLoadingStatus?(0,c.jsx)(s.WV.span,{...i,ref:t}):null});b.displayName=g;var w=m,v=y,C=b},98575:function(e,t,n){n.d(t,{F:function(){return a},e:function(){return i}});var r=n(2265);function a(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function i(...e){return r.useCallback(a(...e),e)}},73966:function(e,t,n){n.d(t,{b:function(){return i}});var r=n(2265),a=n(57437);function i(e,t=[]){let n=[],i=()=>{let t=n.map(e=>r.createContext(e));return function(n){let a=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:a}}),[n,a])}};return i.scopeName=e,[function(t,i){let o=r.createContext(i),s=n.length;n=[...n,i];let c=t=>{let{scope:n,children:i,...c}=t,u=n?.[e]?.[s]||o,l=r.useMemo(()=>c,Object.values(c));return(0,a.jsx)(u.Provider,{value:l,children:i})};return c.displayName=t+"Provider",[c,function(n,a){let c=a?.[e]?.[s]||o,u=r.useContext(c);if(u)return u;if(void 0!==i)return i;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=n.reduce((t,{useScope:n,scopeName:r})=>{let a=n(e)[`__scope${r}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}(i,...t)]}},66840:function(e,t,n){n.d(t,{WV:function(){return s},jH:function(){return c}});var r=n(2265),a=n(54887),i=n(37053),o=n(57437),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=r.forwardRef((e,n)=>{let{asChild:r,...a}=e,s=r?i.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s,{...a,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},37053:function(e,t,n){n.d(t,{g7:function(){return o}});var r=n(2265),a=n(98575),i=n(57437),o=r.forwardRef((e,t)=>{let{children:n,...a}=e,o=r.Children.toArray(n),c=o.find(u);if(c){let e=c.props.children,n=o.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,i.jsx)(s,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,i.jsx)(s,{...a,ref:t,children:n})});o.displayName="Slot";var s=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){let e,o;let s=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref;return r.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...e)=>{i(...e),a(...e)}:a&&(n[r]=a):"style"===r?n[r]={...a,...i}:"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props),ref:t?(0,a.F)(t,s):s})}return r.Children.count(n)>1?r.Children.only(null):null});s.displayName="SlotClone";var c=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function u(e){return r.isValidElement(e)&&e.type===c}},26606:function(e,t,n){n.d(t,{W:function(){return a}});var r=n(2265);function a(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},61188:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(2265),a=globalThis?.document?r.useLayoutEffect:()=>{}},81938:function(e,t,n){n.d(t,{D:function(){return c}});var r=n(53738),a=n(13102),i=n(31669),o=n(77014),s=n(59455);function c(e={}){let t,u,l,d,f,h,m,p,y;return"3"===e.version||e.headlessMode?(0,r.K)(r=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",supportsSimulation:!0,type:c.type,async connect({chainId:e}={}){try{let t=await this.getProvider(),n=(await t.request({method:"eth_requestAccounts"})).map(e=>(0,i.K)(e));l||(l=this.onAccountsChanged.bind(this),t.on("accountsChanged",l)),d||(d=this.onChainChanged.bind(this),t.on("chainChanged",d)),f||(f=this.onDisconnect.bind(this),t.on("disconnect",f));let r=await this.getChainId();if(e&&r!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===o.ab.code)throw e;return{id:r}});r=t?.id??r}return{accounts:n,chainId:r}}catch(e){if(/(user closed modal|accounts received is empty|user denied account)/i.test(e.message))throw new o.ab(e);throw e}},async disconnect(){let e=await this.getProvider();l&&(e.removeListener("accountsChanged",l),l=void 0),d&&(e.removeListener("chainChanged",d),d=void 0),f&&(e.removeListener("disconnect",f),f=void 0),e.disconnect(),e.close()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,i.K)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!u){t=new(await (async()=>{let{default:e}=await Promise.all([n.e(1507),n.e(510),n.e(4373),n.e(3475),n.e(8032),n.e(2753)]).then(n.t.bind(n,28032,19));return"function"!=typeof e&&"function"==typeof e.default?e.default:e})())({...e,reloadOnDisconnect:!1});let a=t.walletExtension?.getChainId(),i=r.chains.find(t=>e.chainId?t.id===e.chainId:t.id===a)||r.chains[0],o=e.chainId||i?.id,s=e.jsonRpcUrl||i?.rpcUrls.default.http[0];u=t.makeWeb3Provider(s,o)}return u},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let n=r.chains.find(e=>e.id===t);if(!n)throw new o.x3(new a.X4);let i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.eC)(n.id)}]}),n}catch(r){if(4902===r.code)try{let r,a;r=e?.blockExplorerUrls?e.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let o={blockExplorerUrls:r,chainId:(0,s.eC)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:a};return await i.request({method:"wallet_addEthereumChain",params:[o]}),n}catch(e){throw new o.ab(e)}throw new o.x3(r)}},onAccountsChanged(e){0===e.length?this.onDisconnect():r.emitter.emit("change",{accounts:e.map(e=>(0,i.K)(e))})},onChainChanged(e){let t=Number(e);r.emitter.emit("change",{chainId:t})},async onDisconnect(e){r.emitter.emit("disconnect");let t=await this.getProvider();l&&(t.removeListener("accountsChanged",l),l=void 0),d&&(t.removeListener("chainChanged",d),d=void 0),f&&(t.removeListener("disconnect",f),f=void 0)}})):(0,r.K)(t=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",supportsSimulation:!0,type:c.type,async connect({chainId:e}={}){try{let t=await this.getProvider(),n=(await t.request({method:"eth_requestAccounts"})).map(e=>(0,i.K)(e));m||(m=this.onAccountsChanged.bind(this),t.on("accountsChanged",m)),p||(p=this.onChainChanged.bind(this),t.on("chainChanged",p)),y||(y=this.onDisconnect.bind(this),t.on("disconnect",y));let r=await this.getChainId();if(e&&r!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===o.ab.code)throw e;return{id:r}});r=t?.id??r}return{accounts:n,chainId:r}}catch(e){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(e.message))throw new o.ab(e);throw e}},async disconnect(){let e=await this.getProvider();m&&(e.removeListener("accountsChanged",m),m=void 0),p&&(e.removeListener("chainChanged",p),p=void 0),y&&(e.removeListener("disconnect",y),y=void 0),e.disconnect(),e.close?.()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,i.K)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},getProvider:async()=>(h||(h=new(await (async()=>{let{default:e}=await Promise.all([n.e(1507),n.e(510),n.e(3475),n.e(264),n.e(4726)]).then(n.t.bind(n,50264,19));return"function"!=typeof e&&"function"==typeof e.default?e.default:e})())({...e,appChainIds:t.chains.map(e=>e.id)}).makeWeb3Provider({...e,options:e.preference??"all"})),h),async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:n}){let r=t.chains.find(e=>e.id===n);if(!r)throw new o.x3(new a.X4);let i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.eC)(r.id)}]}),r}catch(t){if(4902===t.code)try{let t,a;t=e?.blockExplorerUrls?e.blockExplorerUrls:r.blockExplorers?.default.url?[r.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[r.rpcUrls.default?.http[0]??""];let o={blockExplorerUrls:t,chainId:(0,s.eC)(n),chainName:e?.chainName??r.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??r.nativeCurrency,rpcUrls:a};return await i.request({method:"wallet_addEthereumChain",params:[o]}),r}catch(e){throw new o.ab(e)}throw new o.x3(t)}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(e=>(0,i.K)(e))})},onChainChanged(e){let n=Number(e);t.emitter.emit("change",{chainId:n})},async onDisconnect(e){t.emitter.emit("disconnect");let n=await this.getProvider();m&&(n.removeListener("accountsChanged",m),m=void 0),p&&(n.removeListener("chainChanged",p),p=void 0),y&&(n.removeListener("disconnect",y),y=void 0)}}))}c.type="coinbaseWallet"},53738:function(e,t,n){n.d(t,{K:function(){return r}});function r(e){return e}}}]);